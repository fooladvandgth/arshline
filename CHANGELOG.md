## v2.0.2 — پایدار ، فرم و گزارش سالم (Re-release)

- تاریخ: 2025-09-26
- شرح: بازانتشار فنی برای ایجاد خودکار GitHub Release از طریق CI (بدون تغییر کد نسبت به 2.0.1). عنوان و یادداشت‌ها از فایل release برداشت می‌شوند و بستهٔ ZIP افزونه به‌طور خودکار پیوست می‌گردد.
- نکته: اگر نسخهٔ 2.0.1 را نصب کرده‌اید، نیازی به به‌روزرسانی نیست؛ این نسخه صرفاً برای هم‌ترازی فرآیند انتشار است.

## v2.0.1 — پایدار ، فرم و گزارش سالم

- تاریخ: 2025-09-26
- شرح: انتشار پایدار با فرم عمومی سالم و گزارش نتایج بدون خطا. خروجی‌های CSV/Excel به‌صورت UTF‑8 واقعی (بدون JSON-escape)، دکمه‌های خروجی کنار فیلترهای هر سؤال، حذف ستون‌های ناخواسته و بهبود تجربهٔ جدول نتایج (خطوط شبکه، جابه‌جایی ستون‌ها، و wrap/nowrap).
- تغییرات کلیدی:
	- اکسپورت: استریم مستقیم CSV/Excel از API (headers درست + BOM)؛ حذف ستون summary؛ احترام به فیلترها و بی‌اعتنایی به صفحه‌بندی
	- UI نتایج: خطوط شبکه واضح، حذف کنترل چگالی، تاگل wrap/nowrap، درگ‌اندرآپ ستون‌ها با ماندگاری
	- اشکال‌زدایی: فعال‌سازی لاگ‌ها با ?arshdbg=1 و نمایش خطاها در کنسول حتی بدون دیباگ
	- پایداری: فیلترکردن فیلدهای غیرپاسخی از جدول و خروجی‌ها؛ رفع حلقهٔ رندر بی‌نهایت در مرتب‌سازی ستون‌ها

## v1.7.2 — نسخه پایدار فرم عمومی + اعتبارسنجی + چاپ

- تاریخ: 2025-09-26
- شرح: انتشار نسخهٔ پایدار با رندر صحیح فرم‌های عمومی (ID/توکن)، اعتبارسنجی کامل سمت سرور و کلاینت، پاسخ HTMX بدون JSON-escape، صفحهٔ چاپ «مشاهده فرم» با خروجی CSV/Excel و نمایش غنی متن، و فونت فارسی Vazirmatn.
- تغییرات کلیدی:
	- رندر عمومی: هموارسازی فیلدها (id/sort + props)، فیلتر نوع‌های پشتیبانی‌شده، شماره‌گذاری صحیح، ارسال payload درست
	- HTMX: نمایش مستقیم HTML (rest_pre_serve_request)، اختیاری بودن HTMX per-form، نمایش هشدار روی صفحه
	- اعتبارسنجی: تطبیق با field_id در سرور، پیام‌های دقیق 422؛ سمت کلاینت پیام زیر هر سوال، اسکرول/فوکوس به اولین خطا، بررسی لحظه‌ای (blur/input/change)، حرکت با Enter به سوال بعدی
	- داشبورد: بارگذاری لیست پاسخ‌ها با nonce و credentials
	- چاپ: صفحهٔ مستقل «مشاهده فرم» با فونت فارسی، خروجی CSV/Excel، رندر امن متن غنی (b/i/u/p/ul/ol/li/a/span[color])
	- تایپوگرافی: استفاده از فونت فارسی Vazirmatn در فرم عمومی و صفحه چاپ

---

## v_restore_20250924


توضیحات بازگردانی:


تست‌های محلی انجام‌شده توسط کاربر:


نکات عملیاتی:

## v1.5 - بازگشت پشتیبانی از متن بلند (Release)

- تاریخ: 2025-10-02
- شرح: بازگردانی و بهبود پشتیبانی از فیلدهای متن بلند (textarea)، گزینه‌های پیشرفته برای فیلدهای بلند و کوتاه، افزودن آپلود تصویر برای فیلدها (JPG/PNG، حداکثر 300KB)، و رفع چندین خطای جاوااسکریپت در داشبورد.
- شاخه: `stable/restore-20250924`
- یادداشت: این نسخه با هدف بازگردانی رفتار قبلی و پایدارسازی سازندهٔ فرم منتشر می‌شود.

## v1.5.1 - نسخهٔ پایدار بدون ایراد تا متن طولانی

- تاریخ: 2025-09-25
- شرح: رفع فلش موقت GUI هنگام باز کردن ویرایشگر متن طولانی، افزودن کنترل آپلود تصویر/ویدئو در تنظیمات فیلد (پیش‌نمایش با اندازهٔ محدود 200×200)، و قابلیت capture کنسول برای اشکال‌زدایی‌های بعدی.
- شاخه: `stable/restore-20250924`

## v1.5.2 — بازگردانی پایدار «چندگزینه‌ای» و هم‌سوسازی با GitHub

- تاریخ: 2025-09-25
- شرح: بازگردانی نسخه‌ی پایدار ادیتور/پیش‌نمایش چندگزینه‌ای از کامیت تست‌شده (95260c7) و مرج روی master؛ هم‌سوسازی کامل ورک‌اسپیس با origin/master؛ پاک‌سازی جزئی و یکپارچه‌سازی نسخه‌ها.
- تغییرات کلیدی:
	- ادیتور چندگزینه‌ای: ردیف‌های گزینه با +/− و درگ‌هندل، برچسب دوم، همگام‌سازی زنده با پیش‌نمایش
	- پیش‌نمایش چندگزینه‌ای: چینش عمودی/افقی، تک/چند انتخابی، تصادفی‌سازی
	- رندر textarea برای متن بلند در پیش‌نمایش
	- درگ‌دراپ: پذیرش short_text، long_text، multiple_choice در بوم
	- لاگ‌های اشکال‌زدایی: فعال‌سازی با localStorage.arshDebug=1
- نسخه‌ها:
	- افزونه: 1.5.2
	- داشبورد: 1.5.2

## v1.5.3 — هات‌فیکس سیاست «فقط تصویر» و پایداری

- تاریخ: 2025-09-25
- شرح: حذف کامل مسیرهای ویدئو از ادیتور/پیش‌نمایش متن‌بلند و پیش‌فرض‌سازی «آپلود رسانه» روی خاموش (media_upload=false) برای متن‌بلند، جهت انطباق با سیاست فقط-عکس و جلوگیری از رفتارهای ناخواسته.
- تغییرات کلیدی:
	- حذف ورودی/پیش‌نمایش/منطق ویدئو در متن‌بلند (فقط تصویر مجاز است)
	- پیش‌فرض متن‌بلند: media_upload=false (در افزودن و دراپ)
	- پاک‌سازی حداقلی بدون تغییر در سایر ابزارها (چندگزینه‌ای بدون تغییر)
- نسخه‌ها:
	- افزونه: 1.5.3
	- داشبورد: 1.5.3

## v1.6.0 — ماژولارسازی ابزارها و یکپارچه‌سازی پیش‌فرض‌ها

- تاریخ: 2025-09-25
- شرح: شروع ماژولارسازی ویراستار فیلدها و استخراج منطق ابزارها به ماژول‌های جداگانه برای نگهداشت بهتر و کاهش رگرسیون‌ها. اضافه‌شدن رجیستری مرکزی ARSH.Tools با توابع register/get/getDefaults و hookهای renderEditor/renderPreview. هم‌راستاسازی پیش‌فرض‌ها (از جمله media_upload=false برای متن‌بلند) در یک محل واحد.
- تغییرات کلیدی:
	- رجیستری مرکزی ابزارها: ARSH.Tools (defaults + رندر سفارشی)
	- ماژول‌ها: assets/js/tools/short_text.js، long_text.js، multiple_choice.js
	- dashboard-template.php: تلاش برای رندر از طریق ماژول‌ها، با fallback به رندر داخلی در صورت نبود ماژول
	- حفظ سیاست رسانه: فقط تصویر (JPG/PNG ≤ 300KB)؛ بدون ویدئو؛ پیش‌فرض آپلود رسانه خاموش در متن‌بلند
	- بهبود ناوبری ادیتور: بازگشت به سازنده فرم پس از ذخیره (در ماژول‌ها)
- نسخه‌ها:
	- افزونه: 1.6.0
	- داشبورد: 1.6.0

## v1.6.1 — هات‌فیکس بازگشت پس از ذخیره (Stable)

- تاریخ: 2025-09-25
- شرح: تضمین بازگشت خودکار به فرم‌ساز بعد از «ذخیره شد» حتی در صورت عدم فراخوانی بازگشت توسط ماژول ابزار. اکسپورت سراسری توابع ناوبری برای سازگاری بهتر با ماژول‌ها.
- تغییرات کلیدی:
	- saveFields: پس از موفقیت ذخیره، فراخوانی مستقیم renderFormBuilder(id)
	- window.*: در دسترس قرار دادن renderFormBuilder / renderFormEditor / renderFormPreview روی window
- نسخه‌ها:
	- افزونه: 1.6.1
	- داشبورد: 1.6.1

	## v1.7.0 — پایان فاز اول ابزارها (Stable)

	- تاریخ: 2025-09-26
	- شرح: تکمیل فاز اول ابزارها شامل ابزارهای Dropdown و Rating، یکپارچه‌سازی تاگل‌ها، آیکون‌های اختصاصی و بهبودهای UX در سازندهٔ فرم.
	- تغییرات کلیدی:
		- ابزار Dropdown با پیش‌نمایش تعاملی و تنظیمات مرتب‌سازی (الفبایی/تصادفی‌سازی با انحصار متقابل)
		- ابزار Rating با ۱–۲۰ آیکون و ۶ نوع آیکون (ستاره، قلب، تایید، مدال، لبخند، ناراحت) و پالت انتخاب آیکون
		- استانداردسازی toggle-switch در همه ابزارها
		- بهبود شماره‌گذاری سوالات و آیکون‌های جعبه‌ابزار
	- نسخه‌ها:
		- افزونه: 1.7.0
		- داشبورد: 1.7.0
